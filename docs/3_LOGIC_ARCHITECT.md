# مهندس المنطق: كيف تصمم "عقل" النظام؟

هذا القسم هو المكان الذي تتحول فيه من مستخدم عادي إلى "مصمم أنظمة خبير".

## 1. سجل المتغيرات (Variables Registry)
المتغيرات هي الجسر بين أعمدة البيانات والمعادلات. يمكنك تعريف:
- **Transaction Variables:** ربط مباشر مع أعمدة مثل (السعر، الكمية، الخصم).
- **Master Data Joins:** (ميزة متقدمة) تمكنك من جلب بيانات من "القوائم المرجعية". مثلاً: إذا كان للحساب المالي "ميزانية تقديرية" مخزنة في قائمة الحسابات، يمكنك استخدام متغير `Account_Budget` مباشرة في معادلاتك لعمل مقارنة (الفعلي vs الميزانية).

## 2. بناء المعادلات (Formula Lab)
يدعم النظام نوعين من المعادلات:
- **المعادلات الخطية (Linear):** تُحسب لكل سطر (مثلاً: `Price * Quantity`).
- **المعادلات التجميعية (Aggregate):** تُحسب على مستوى الإجماليات (مثلاً: `SUM(Actual) / SUM(Target)`). هذا النوع هو المسؤول عن حساب "نسب الإنجاز" و "هوامش الربح الكلية".

## 3. محاكي المحرك (Engine Simulator)
لضمان الدقة قبل النشر، يوفر التطبيق "مختبراً للمحاكاة". 
- يمكنك إدخال "حركة افتراضية" ورؤية مسار تنفيذ القواعد عليها خطوة بخطوة.
- سيظهر لك المحاكي: أي قاعدة قبلت الحركة؟ وأي قاعدة رفضتها ولماذا؟ وما هي القيمة التي نتجت عن كل خطوة؟ 
**هذا المستوى من الشفافية (Transparency) يجعل تدقيق الحسابات أمراً في غاية السهولة.**
