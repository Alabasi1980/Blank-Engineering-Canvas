# مرجع لوحات الإعدادات (Settings Panel Reference)

هذا الملف هو "القاموس" لكل خيار تراه في واجهة الإعدادات.

## أولاً: إعدادات النظام المتقدمة (Advanced System Settings)

### 1. الشركة والمالية (Profile)
- **اسم الشركة:** المسمى الذي يظهر في أعلى القائمة الجانبية وفي ترويسة التقارير.
- **العملة ونسبة الضريبة:** ثوابت عالمية تُستخدم كمتغيرات تلقائية في أي معادلة (مثل `tax_rate`).
- **بداية السنة المالية:** تحديد الشهر الذي يبدأ منه حساب "التراكمي السنوي" (YTD).

### 2. المظهر والتقارير (Branding)
- **شعار الشركة:** يدعم رفع ملفات الصور لتظهر في واجهة لوحة القيادة والتقارير المصدّرة.
- **لون القائمة الجانبية:** تخصيص الهوية البصرية للنظام بالكامل بلمسة واحدة.
- **بادئة التقارير:** الكود الذي يسبق اسم الملف عند التصدير (مثل `ACC-`).

### 3. مهندس المنطق (Logic Architect)
- **سجل المتغيرات:** ربط أعمدة Excel بأسماء ثابتة (مثل ربط عمود "السعر قبل الخصم" بمتغير `NET_PRICE`).
- **بناء المعادلات:** واجهة برمجة بصرية لكتابة المعادلات الرياضية مع فحص فوري للنتائج عبر "مختبر الفحص".
- **منطق الاتجاه:** تحديد إشارة المبلغ (موجب/سالب/محايد) بناءً على نوع الحركة.

### 4. إدارة الأبعاد (Dimension Registry)
- **حالة الظهور:** زر (العين) يتيح إخفاء بُعد بالكامل من الفلاتر والجداول لتبسيط الواجهة دون حذف بياناته.
- **كلمات الربط (Aliases):** إدخال المسميات المتوقعة للعمود في ملفات Excel (مثلاً: البعد "المستودع" قد يسمى في الملف "المخزن" أو "الموقع").

### 5. نماذج الجداول (Table Schemas)
- **تصميم الأعمدة:** تحديد أي حقول تظهر عند ضغط المستخدم على "التفاصيل" داخل البطاقة.
- **الأدوار الوظيفية:** تعيين "دور" للعمود (مثلاً: هذا العمود يمثل الحساب المالي) ليفهمه المحرك تلقائياً.

### 6. إدارة الاتصالات (APIs)
- **رابط الـ API:** نقطة النهاية (Endpoint) لجلب البيانات حية.
- **مسار البيانات (Data Key):** تحديد مكان المصفوفة داخل استجابة JSON.
- **المزامنة التلقائية:** خيار لتحديث البيانات المرجعية دورياً دون تدخل بشري.

### 7. الإصدارات والنشر (Versioning)
- **نشر التعديلات:** نقل كافة الإعدادات من حالة "مسودة" إلى "فعال" (Live).
- **نقطة الاستعادة (Rollback):** إمكانية العودة لأي إعدادات سابقة تم نشرها في تاريخ معين بضغطة زر.

---

## ثانياً: إعدادات البطاقات (Dashboard Settings)

### 1. هوية البطاقة (Metadata)
- **نوع البيانات:** (قيمة مالية) للجمع والمبالغ، أو (عدد سجلات) لحصر عدد الحركات.
- **تراكمي كلي:** إذا تم تفعيله، تظهر البطاقة إجمالي الحركات منذ تاريخ البدء وليس فقط الفترة المختارة.

### 2. قواعد المحرك (Engine Rules)
- **أساس القيمة:** اختيار أي معادلة يتم تطبيقها على الحركات المطابقة لهذه القاعدة.
- **نوع الرصيد:** (خلال الفترة، رصيد افتتاحي، تراكمي) لتحديد المدى الزمني للمعالجة.
- **المعالجة التشعبية (Cascading):** إذا تم تفعيله، تستمر الحركة المالية في "الرحلة" لتؤثر على القواعد التالية في القائمة.

### 3. المراقبين (Data Watchdogs)
- **شروط التنبيه:** وضع "حواجز" رقمية (مثلاً: إذا كان الناتج > 500,000).
- **مستوى الخطورة:** (خطر، تحذير، إرشاد) يغير لون البطاقة وتأثيرها البصري في لوحة القيادة.
