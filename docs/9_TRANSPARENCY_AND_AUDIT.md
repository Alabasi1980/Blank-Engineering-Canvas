# الشفافية المطلقة: نظام التدقيق (The Audit & Trace System)

أكبر تحدي في الأنظمة المالية هو: "من أين أتى هذا الرقم؟". تطبيقنا يحل هذه المشكلة عبر طبقتين من الشفافية:

## 1. مفتش الحركات (Transaction Inspector)
عند الضغط على أي حركة مالية في جداول التفاصيل، ينفتح "مختبر الفحص الجنائي".
- **مسار التنفيذ (Execution Trace):** يظهر لك النظام قائمة بكافة القواعد التي مرت عليها هذه الحركة.
- **منطق القبول والرفض:** يوضح النظام باللون الأخضر/الأحمر لماذا تم قبول الحركة في هذه القاعدة ورفضها في تلك (مثلاً: "المستودع مطابق" ولكن "الحساب غير مطابق").
- **تأثير المحرك:** يظهر لك المبلغ قبل المعالجة والمبلغ بعدها، مع توضيح المعادلة الرياضية التي طُبقت.

## 2. محاكي المحرك (Engine Simulator)
قبل أن ينشر المستخدم إعداداته، يمكنه استخدام "المحاكي" في شاشة الإعدادات:
- يتيح إدخال "حركة افتراضية" (Mock Transaction).
- يقوم المحرك بمعالجتها "حياً" وأمام عين المستخدم ليظهر له الناتج النهائي المتوقع.
- هذا يمنع الأخطاء البشرية في صياغة القواعد والمعادلات قبل وصولها للوحة القيادة التنفيذية.

## 3. سلامة البيانات المرجعية (Master Data Integrity)
يمتلك النظام "حارس بوابة" يمنع:
- حذف عناصر مستخدمة في القواعد (Dependency Protection).
- بناء علاقات هرمية دائرية (Circular Reference Protection) في شجرة الحسابات.
- استيراد بيانات يتيمة (Orphan Records) غير مرتبطة بحسابات صحيحة.
